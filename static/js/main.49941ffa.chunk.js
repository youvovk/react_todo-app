(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,o){t.exports=o(21)},16:function(t,e,o){},17:function(t,e,o){},21:function(t,e,o){"use strict";o.r(e);var n=o(0),i=o.n(n),a=o(9),r=o.n(a),l=(o(16),o(17),o(10)),c=o(7),d=o(1),s=o(2),u=o(4),m=o(3),p=o(5),f=o(6),g=o(20),v=function(t){function e(){var t,o;Object(d.a)(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(o=Object(u.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(i)))).state={editedText:"",isEditing:!1},o.handleEditedText=function(t){var e=t.target.value;o.setState({editedText:e.replace(/^\s+/,"")})},o.activateEditing=function(t){o.setState(function(e){var o=e.isEditing;return{editedText:t,isEditing:!o}})},o.addNewText=function(t){t.preventDefault();var e=o.props,n=e.addEditText,i=e.todo.id;n(o.state.editedText,i)},o}return Object(p.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){var t=this,e=this.state,o=e.editedText,n=e.isEditing,a=this.props,r=a.todo,l=a.toggleCompleteStatus,c=a.toggleRemoveTodo,d=g({editing:n});return i.a.createElement("li",{key:f.uniqueId("todo_"),className:d},i.a.createElement("div",{className:"view"},i.a.createElement("input",{key:f.uniqueId(""),type:"checkbox",className:"toggle",onChange:function(){return l(r.id)},id:r.id,checked:r.completed}),i.a.createElement("label",{htmlFor:"todo-1",className:r.completed?"toggle_line-through":"",onDoubleClick:function(){return t.activateEditing(r.title)}},r.title),i.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return c(r.id)}})),i.a.createElement("form",{onSubmit:this.addNewText,onBlur:this.addNewText},i.a.createElement("input",{onChange:this.handleEditedText,value:o,type:"text",className:"edit",autoFocus:!0})))}}]),e}(i.a.Component),h=o(6),E=function(t){var e=t.todoListFiltered,o=t.toggleCompleteStatus,n=t.toggleRemoveTodo,a=t.addEditText;return i.a.createElement("ul",{className:"todo-list"},e.map(function(t){return i.a.createElement(v,{todo:t,toggleCompleteStatus:o,toggleRemoveTodo:n,addEditText:a,key:h.uniqueId("todo-item_")})}))},b=function(t){var e=t.toggleFilters,o=t.activeFilter;return i.a.createElement("ul",{className:"filters"},i.a.createElement("li",null,i.a.createElement("a",{href:"#/",className:"All"===o?"selected":"",onClick:function(){return e()}},"All")),i.a.createElement("li",null,i.a.createElement("a",{href:"#/active",className:"Active"===o?"selected":"",onClick:function(){return e("Active")}},"Active")),i.a.createElement("li",null,i.a.createElement("a",{href:"#/completed",className:"Completed"===o?"selected":"",onClick:function(){return e("Completed")}},"Completed")))};function F(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)}return o}function L(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?F(o,!0).forEach(function(e){Object(l.a)(t,e,o[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):F(o).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))})}return t}var S=o(6),N=function(t){function e(){var t,o;Object(d.a)(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(o=Object(u.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(i)))).state={todoList:[],todoListFiltered:[],textNewTodo:"",activeFilter:"All",savedStorage:!1},o.addNewTodo=function(t){t.preventDefault();var e=S.uniqueId("todo_");""!==o.state.textNewTodo.replace(/\s/g,"")&&o.setState(function(t){return{todoList:[].concat(Object(c.a)(t.todoList),[{id:e,title:t.textNewTodo,completed:!1}]),todoListFiltered:[].concat(Object(c.a)(t.todoListFiltered),[{id:e,title:t.textNewTodo,completed:!1}]),textNewTodo:"",savedStorage:!0}})},o.handleNewTodoText=function(t){var e=t.target.value;o.setState({textNewTodo:e.replace(/^\s+/,"")})},o.toggleCompleteStatus=function(t){var e=o.state.activeFilter;o.setState(function(e){var o=e.todoList,n=e.todoListFiltered;return{todoList:o.map(function(e){return e.id===t?L({},e,{completed:!e.completed}):e}),todoListFiltered:n.map(function(e){return e.id===t?L({},e,{completed:!e.completed}):e})}}),"Completed"===e&&o.toggleFilters("Completed"),"Active"===e&&o.toggleFilters("Active")},o.toggleCompleteAllStatus=function(){o.setState(function(t){return{todoListFiltered:t.todoListFiltered.map(function(e){return L({},e,{completed:t.todoListFiltered.some(function(t){return!t.completed})})}),todoList:t.todoList.map(function(e){return L({},e,{completed:t.todoList.some(function(t){return!t.completed})})})}})},o.toggleFilters=function(t){switch(t){case"Active":o.setState(function(t){return{todoListFiltered:t.todoList.filter(function(t){return!t.completed}),activeFilter:"Active"}});break;case"Completed":o.setState(function(t){return{todoListFiltered:t.todoList.filter(function(t){return t.completed}),activeFilter:"Completed"}});break;default:o.setState(function(t){return{todoListFiltered:t.todoList.map(function(t){return L({},t)}),activeFilter:"All"}})}},o.toggleRemoveTodo=function(t){o.setState(function(e){var o=e.todoList,n=e.todoListFiltered;return{todoList:o.filter(function(e){return e.id!==t}),todoListFiltered:n.filter(function(e){return e.id!==t})}})},o.toggleRemoveAllCompleted=function(){o.setState(function(t){var e=t.todoList,o=t.todoListFiltered;return{todoList:e.filter(function(t){return!t.completed}),todoListFiltered:o.filter(function(t){return!t.completed})}})},o.addEditText=function(t,e){""!==t.replace(/\s/g,"")&&o.setState(function(o){var n=o.todoListFiltered;return{todoList:o.todoList.map(function(o){return o.id===e?L({},o,{title:t}):o}),todoListFiltered:n.map(function(o){return o.id===e?L({},o,{title:t}):o})}})},o}return Object(p.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){var t=Object.fromEntries(Object.entries(localStorage)),e={};for(var o in t)null!==o&&(e[o]=JSON.parse(localStorage.getItem(o)));e.savedStorage&&this.setState(L({},e))}},{key:"componentDidUpdate",value:function(){this.handleFormSubmit()}},{key:"handleFormSubmit",value:function(){var t=this.state,e=t.todoList,o=t.todoListFiltered,n=t.savedStorage;localStorage.setItem("savedStorage",JSON.stringify(n)),localStorage.setItem("todoList",JSON.stringify(e)),localStorage.setItem("todoListFiltered",JSON.stringify(o))}},{key:"render",value:function(){var t=this.state,e=t.textNewTodo,o=t.todoListFiltered,n=t.activeFilter,a=t.todoList,r=a.filter(function(t){return!t.completed}).length;return i.a.createElement("section",{className:"todoapp"},i.a.createElement("header",{className:"header"},i.a.createElement("h1",null,"todos"),i.a.createElement("form",{onSubmit:this.addNewTodo},i.a.createElement("input",{value:e,onChange:this.handleNewTodoText,className:"new-todo",placeholder:"What needs to be done?"}))),i.a.createElement("section",{className:"main"},!!a.length&&i.a.createElement(i.a.Fragment,null,i.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",onChange:this.toggleCompleteAllStatus}),i.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete")),i.a.createElement(E,{addEditText:this.addEditText,todoListFiltered:o,toggleCompleteStatus:this.toggleCompleteStatus,toggleRemoveTodo:this.toggleRemoveTodo})),!!a.length&&i.a.createElement("footer",{className:"footer"},i.a.createElement("span",{className:"todo-count"},r," ","item",1!==r&&"s"," ","left"),i.a.createElement(b,{toggleFilters:this.toggleFilters,activeFilter:n}),!!a.some(function(t){return t.completed})&&i.a.createElement("button",{type:"button",className:"clear-completed",onClick:this.toggleRemoveAllCompleted},"Clear completed")))}}]),e}(i.a.Component);r.a.render(i.a.createElement(N,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.49941ffa.chunk.js.map